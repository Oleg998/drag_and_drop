(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const y=document.querySelector(".form"),f=document.getElementById("textContainer");y.addEventListener("submit",L);function L(t){t.preventDefault(),f.innerHTML="";const{usertext:s}=t.currentTarget.elements,o=s.value;if(o.trim()==="")alert("Input should not be empty");else{for(let r=0;r<o.length;r++){const e=document.createElement("span");e.textContent=o[r],e.classList.add("draggable","letter"),e.setAttribute("draggable","true"),e.id=`letter-${r}`,f.appendChild(e),e.ondragstart=C}t.currentTarget.reset()}}function C(t){const s=document.querySelectorAll(".selected");if(s.length>0){const o=Array.from(s).map(r=>r.id);t.dataTransfer.setData("text",JSON.stringify(o))}else t.dataTransfer.setData("text",JSON.stringify([t.target.id]))}function R(t){t.preventDefault()}function v(t){t.preventDefault();const s=t.dataTransfer.getData("text"),o=JSON.parse(s),r=t.target;o.forEach(e=>{const n=document.getElementById(e);r.id==="textContainer"?r.appendChild(n):(r.classList.contains("draggable")||r.classList.contains("selected"))&&r.parentNode.insertBefore(n,r),n.classList.remove("selected")})}f.addEventListener("dragover",R);f.addEventListener("drop",v);const a=document.getElementById("textContainer");let p=!1,d,u,c;a.addEventListener("mousedown",t=>{t.ctrlKey||t.target.classList.contains("letter")||(p=!0,d=t.pageX-a.getBoundingClientRect().left,u=t.pageY-a.getBoundingClientRect().top,c=document.createElement("div"),c.classList.add("selection-rectangle"),c.style.left=`${d}px`,c.style.top=`${u}px`,a.appendChild(c))});document.addEventListener("mousemove",t=>{if(!p)return;const s=t.pageX-a.getBoundingClientRect().left,o=t.pageY-a.getBoundingClientRect().top,r=Math.abs(s-d),e=Math.abs(o-u);c.style.width=`${r}px`,c.style.height=`${e}px`,c.style.left=`${Math.min(s,d)}px`,c.style.top=`${Math.min(o,u)}px`,document.querySelectorAll(".letter").forEach(i=>{const l=i.getBoundingClientRect(),g=a.getBoundingClientRect(),m=l.left-g.left,h=l.top-g.top;m+l.width>Math.min(d,s)&&m<Math.max(d,s)&&h+l.height>Math.min(u,o)&&h<Math.max(u,o)?i.classList.add("selected"):i.classList.remove("selected")})});document.addEventListener("mouseup",()=>{p&&c&&(a.removeChild(c),c=null),p=!1});a.addEventListener("click",t=>{if(!t.ctrlKey)return;const s=t.pageX-a.getBoundingClientRect().left,o=t.pageY-a.getBoundingClientRect().top;document.querySelectorAll(".letter").forEach(e=>{const n=e.getBoundingClientRect(),i=a.getBoundingClientRect(),l=n.left-i.left,g=n.top-i.top;s>=l&&s<=l+n.width&&o>=g&&o<=g+n.height&&e.classList.toggle("selected")})});
//# sourceMappingURL=commonHelpers.js.map
