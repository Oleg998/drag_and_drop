(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const y=document.querySelector(".form"),f=document.getElementById("textContainer");y.addEventListener("submit",L);function L(t){t.preventDefault(),f.innerHTML="";const{usertext:s}=t.currentTarget.elements,o=s.value;if(o.trim()==="")alert("Input should not be empty");else{for(let n=0;n<o.length;n++){const e=document.createElement("span");e.textContent=o[n],e.classList.add("draggable","letter"),e.setAttribute("draggable","true"),e.id=`letter-${n}`,f.appendChild(e),e.ondragstart=C}t.currentTarget.reset()}}function C(t){const s=document.querySelectorAll(".selected");if(s.length>0){const o=Array.from(s).map(n=>n.id);t.dataTransfer.setData("text",JSON.stringify(o))}else t.dataTransfer.setData("text",JSON.stringify([t.target.id]))}function R(t){t.preventDefault()}function x(t){t.preventDefault();const s=t.dataTransfer.getData("text"),o=JSON.parse(s),n=t.target;o.forEach(e=>{const r=document.getElementById(e);n.id==="textContainer"?n.appendChild(r):(n.classList.contains("draggable")||n.classList.contains("selected"))&&n.parentNode.insertBefore(r,n)})}f.addEventListener("dragover",R);f.addEventListener("drop",x);const a=document.getElementById("textContainer");let p=!1,d,u,c;a.addEventListener("mousedown",t=>{t.ctrlKey||t.target.classList.contains("letter")||(p=!0,d=t.pageX-a.getBoundingClientRect().left,u=t.pageY-a.getBoundingClientRect().top,c=document.createElement("div"),c.classList.add("selection-rectangle"),c.style.left=`${d}px`,c.style.top=`${u}px`,a.appendChild(c))});document.addEventListener("mousemove",t=>{if(!p)return;const s=t.pageX-a.getBoundingClientRect().left,o=t.pageY-a.getBoundingClientRect().top,n=Math.abs(s-d),e=Math.abs(o-u);c.style.width=`${n}px`,c.style.height=`${e}px`,c.style.left=`${Math.min(s,d)}px`,c.style.top=`${Math.min(o,u)}px`,document.querySelectorAll(".letter").forEach(i=>{const l=i.getBoundingClientRect(),g=a.getBoundingClientRect(),m=l.left-g.left,h=l.top-g.top;m+l.width>Math.min(d,s)&&m<Math.max(d,s)&&h+l.height>Math.min(u,o)&&h<Math.max(u,o)?i.classList.add("selected"):i.classList.remove("selected")})});document.addEventListener("mouseup",()=>{p&&c&&(a.removeChild(c),c=null),p=!1});a.addEventListener("click",t=>{if(!t.ctrlKey)return;const s=t.pageX-a.getBoundingClientRect().left,o=t.pageY-a.getBoundingClientRect().top;document.querySelectorAll(".letter").forEach(e=>{const r=e.getBoundingClientRect(),i=a.getBoundingClientRect(),l=r.left-i.left,g=r.top-i.top;s>=l&&s<=l+r.width&&o>=g&&o<=g+r.height&&e.classList.toggle("selected")})});
//# sourceMappingURL=commonHelpers.js.map
