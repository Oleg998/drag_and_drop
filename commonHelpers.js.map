{"version":3,"file":"commonHelpers.js","sources":["../src/js/drop.js","../src/js/select.js"],"sourcesContent":["const userInput = document.querySelector(\".form\");\nconst result = document.getElementById(\"textContainer\");\n\nuserInput.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  result.innerHTML = '';\n  const { usertext } = evt.currentTarget.elements;\n  const value = usertext.value;\n\n  if (value.trim() === \"\") {\n    const message = \"Input should not be empty\";\n    alert(message);\n  } else {\n    for (let i = 0; i < value.length; i++) {\n      const letter = document.createElement('span');\n      letter.textContent = value[i];\n      letter.classList.add('draggable', 'letter');\n      letter.setAttribute('draggable', 'true');\n      letter.id = `letter-${i}`;\n      result.appendChild(letter);\n\n     \n      letter.ondragstart = drag;\n    }\n    evt.currentTarget.reset();\n  }\n}\n\n\n\nfunction drag(e) {\n  const selectedLetters = document.querySelectorAll('.selected');\n  \n  if (selectedLetters.length > 0) {\n   \n    const selectedIds = Array.from(selectedLetters).map(letter => letter.id);\n    e.dataTransfer.setData('text', JSON.stringify(selectedIds));\n  } else {\n \n    e.dataTransfer.setData('text', JSON.stringify([e.target.id]));\n  }\n}\n\n\nfunction allowDrop(e) {\n  e.preventDefault();\n}\n\n\nfunction drop(e) {\n  e.preventDefault();\n  const data = e.dataTransfer.getData('text');\n  const itemIds = JSON.parse(data);  \n  \n  const targetElement = e.target;\n  \n \n  itemIds.forEach(id => {\n    const draggableElement = document.getElementById(id);\n    \n    \n    if (targetElement.id === 'textContainer') {\n      targetElement.appendChild(draggableElement);\n    } else if (targetElement.classList.contains('draggable') || targetElement.classList.contains('selected')) {\n      targetElement.parentNode.insertBefore(draggableElement, targetElement);\n    }\n  });\n}\n\n\nresult.addEventListener('dragover', allowDrop);\nresult.addEventListener('drop', drop);\n","const textContainer = document.getElementById(\"textContainer\");\n\nlet isSelecting = false;\nlet startX, startY;\nlet selectionRect;\n\n\ntextContainer.addEventListener('mousedown', (e) => {\n    if (e.ctrlKey || e.target.classList.contains('letter')) return; \n\n    isSelecting = true;\n    startX = e.pageX - textContainer.getBoundingClientRect().left;\n    startY = e.pageY - textContainer.getBoundingClientRect().top;\n\n    selectionRect = document.createElement('div');\n    selectionRect.classList.add('selection-rectangle');\n    selectionRect.style.left = `${startX}px`;\n    selectionRect.style.top = `${startY}px`;\n    textContainer.appendChild(selectionRect);\n});\n\n\ndocument.addEventListener('mousemove', (e) => {\n    if (!isSelecting) return;\n\n    const currentX = e.pageX - textContainer.getBoundingClientRect().left;\n    const currentY = e.pageY - textContainer.getBoundingClientRect().top;\n\n    const width = Math.abs(currentX - startX);\n    const height = Math.abs(currentY - startY);\n    selectionRect.style.width = `${width}px`;\n    selectionRect.style.height = `${height}px`;\n    selectionRect.style.left = `${Math.min(currentX, startX)}px`;\n    selectionRect.style.top = `${Math.min(currentY, startY)}px`;\n\n    const chars = document.querySelectorAll('.letter');\n    chars.forEach((char) => {\n        const charRect = char.getBoundingClientRect();\n        const containerRect = textContainer.getBoundingClientRect();\n\n        const charX = charRect.left - containerRect.left;\n        const charY = charRect.top - containerRect.top;\n\n        const charInRect = (\n            charX + charRect.width > Math.min(startX, currentX) &&\n            charX < Math.max(startX, currentX) &&\n            charY + charRect.height > Math.min(startY, currentY) &&\n            charY < Math.max(startY, currentY)\n        );\n\n        if (charInRect) {\n            char.classList.add('selected');\n        } else {\n            char.classList.remove('selected');\n        }\n    });\n});\n\ndocument.addEventListener('mouseup', () => {\n    if (isSelecting && selectionRect) {\n        textContainer.removeChild(selectionRect);\n        selectionRect = null;\n    }\n    isSelecting = false;\n});\n\n\ntextContainer.addEventListener('click', (e) => {\n    if (!e.ctrlKey) return;\n\n    const x = e.pageX - textContainer.getBoundingClientRect().left;\n    const y = e.pageY - textContainer.getBoundingClientRect().top;\n\n    const chars = document.querySelectorAll('.letter');\n    chars.forEach((char) => {\n        const charRect = char.getBoundingClientRect();\n        const containerRect = textContainer.getBoundingClientRect();\n\n        const charX = charRect.left - containerRect.left;\n        const charY = charRect.top - containerRect.top;\n\n        const charInRect = (\n            x >= charX &&\n            x <= charX + charRect.width &&\n            y >= charY &&\n            y <= charY + charRect.height\n        );\n\n        if (charInRect) {\n            char.classList.toggle('selected');\n        }\n    });\n});\n"],"names":["userInput","result","onSubmit","evt","usertext","value","i","letter","drag","e","selectedLetters","selectedIds","allowDrop","drop","data","itemIds","targetElement","id","draggableElement","textContainer","isSelecting","startX","startY","selectionRect","currentX","currentY","width","height","char","charRect","containerRect","charX","charY","x","y"],"mappings":"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"}