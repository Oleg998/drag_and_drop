{"version":3,"file":"commonHelpers.js","sources":["../src/js/drop.js","../src/js/select.js"],"sourcesContent":["const userInput = document.querySelector(\".form\");\nconst result = document.getElementById(\"textContainer\");\n\nuserInput.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(evt) {\n  evt.preventDefault();\n  result.innerHTML = '';\n  const { usertext } = evt.currentTarget.elements;\n  const value = usertext.value;\n\n  if (value.trim() === \"\") {\n    const message = \"Input should not be empty\";\n    alert(message);\n  } else {\n    for (let i = 0; i < value.length; i++) {\n      const letter = document.createElement('span');\n      letter.textContent = value[i]; \n      letter.classList.add('draggable', 'letter');\n      letter.setAttribute('draggable', 'true'); \n      letter.id = `letter-${i}`; \n      result.appendChild(letter); \n\n      letter.ondragstart = drag;\n    }\n    evt.currentTarget.reset();\n  }\n}\n\nfunction drag(e) {\n  e.dataTransfer.setData('text', e.target.id);\n}\n\nfunction allowDrop(e) {\n  e.preventDefault();\n}\n\nfunction drop(e) {\n  e.preventDefault();\n  const itemId = e.dataTransfer.getData('text');\n  const draggableElement = document.getElementById(itemId);\n\n  // Убедимся, что элемент draggable не содержит буквы, если это нужно\n  if (e.target.id === 'result') {\n    e.target.appendChild(draggableElement);\n  } else if (e.target.classList.contains('draggable')) {\n    // Переместим букву перед целевым элементом, если это буква\n    e.target.parentNode.insertBefore(draggableElement, e.target);\n  }\n}\n\n\n\nresult.addEventListener('dragover', allowDrop);\nresult.addEventListener('drop', drop);\n","const textContainer = document.getElementById(\"textContainer\");\n\nlet isSelecting = false;\nlet startX, startY;\nlet selectionRect;\n\n\ntextContainer.addEventListener('mousedown', (e) => {\n    if (e.ctrlKey || e.target.classList.contains('letter')) return; \n\n    isSelecting = true;\n    startX = e.pageX - textContainer.getBoundingClientRect().left;\n    startY = e.pageY - textContainer.getBoundingClientRect().top;\n\n    selectionRect = document.createElement('div');\n    selectionRect.classList.add('selection-rectangle');\n    selectionRect.style.left = `${startX}px`;\n    selectionRect.style.top = `${startY}px`;\n    textContainer.appendChild(selectionRect);\n});\n\n\ndocument.addEventListener('mousemove', (e) => {\n    if (!isSelecting) return;\n\n    const currentX = e.pageX - textContainer.getBoundingClientRect().left;\n    const currentY = e.pageY - textContainer.getBoundingClientRect().top;\n\n    const width = Math.abs(currentX - startX);\n    const height = Math.abs(currentY - startY);\n    selectionRect.style.width = `${width}px`;\n    selectionRect.style.height = `${height}px`;\n    selectionRect.style.left = `${Math.min(currentX, startX)}px`;\n    selectionRect.style.top = `${Math.min(currentY, startY)}px`;\n\n    const chars = document.querySelectorAll('.letter');\n    chars.forEach((char) => {\n        const charRect = char.getBoundingClientRect();\n        const containerRect = textContainer.getBoundingClientRect();\n\n        const charX = charRect.left - containerRect.left;\n        const charY = charRect.top - containerRect.top;\n\n        const charInRect = (\n            charX + charRect.width > Math.min(startX, currentX) &&\n            charX < Math.max(startX, currentX) &&\n            charY + charRect.height > Math.min(startY, currentY) &&\n            charY < Math.max(startY, currentY)\n        );\n\n        if (charInRect) {\n            char.classList.add('selected');\n        } else {\n            char.classList.remove('selected');\n        }\n    });\n});\n\ndocument.addEventListener('mouseup', () => {\n    if (isSelecting && selectionRect) {\n        textContainer.removeChild(selectionRect);\n        selectionRect = null;\n    }\n    isSelecting = false;\n});\n\n\ntextContainer.addEventListener('click', (e) => {\n    if (!e.ctrlKey) return;\n\n    const x = e.pageX - textContainer.getBoundingClientRect().left;\n    const y = e.pageY - textContainer.getBoundingClientRect().top;\n\n    const chars = document.querySelectorAll('.letter');\n    chars.forEach((char) => {\n        const charRect = char.getBoundingClientRect();\n        const containerRect = textContainer.getBoundingClientRect();\n\n        const charX = charRect.left - containerRect.left;\n        const charY = charRect.top - containerRect.top;\n\n        const charInRect = (\n            x >= charX &&\n            x <= charX + charRect.width &&\n            y >= charY &&\n            y <= charY + charRect.height\n        );\n\n        if (charInRect) {\n            char.classList.toggle('selected');\n        }\n    });\n});\n"],"names":["userInput","result","onSubmit","evt","usertext","value","letter","drag","e","allowDrop","drop","itemId","draggableElement","textContainer","isSelecting","startX","startY","selectionRect","currentX","currentY","width","height","char","charRect","containerRect","charX","charY","x","y"],"mappings":"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"}